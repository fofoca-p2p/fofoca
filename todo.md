emit sync event on replicated
refactor to modern js
callbac to async/await
move index to lib/index
rename lib to src
